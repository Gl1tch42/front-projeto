<div class="container" style="margin-top: 2em; margin-bottom: 2em;">
  <h2>Gerenciar Aulas</h2>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Dia</th>
        <th>Horário</th>
        <th>Turma</th>
        <th>Professor</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let aula of aulas">
        <td>{{ aula.dia }}</td>
        <td>{{ aula.horario }}</td>
        <td>{{ aula.nm_turma }}</td>
        <td>{{ aula.nm_professor }}</td>
        <td>
          <button style="margin-right: 1em;" (click)="editarAula(aula)" class="btn btn-sm btn-primary">Editar</button>
          <button (click)="excluirAula(aula)" class="btn btn-sm btn-danger">Excluir</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="card">
    <div *ngIf="!editMode">
      <h4>Adicionar Aula</h4>

      <div class="form-group">
        <label>Dia:</label>
        <select [(ngModel)]="novaAula.dia" class="form-control">
          <option *ngFor="let dia of dias" [value]="dia">{{ dia }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Horário:</label>
        <select [(ngModel)]="novaAula.horario" class="form-control">
          <option *ngFor="let horario of horarios" [value]="horario">{{ horario }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Turma:</label>
        <select [(ngModel)]="novaAula.id_turmas" class="form-control">
          <option *ngFor="let turma of turmas" [value]="turma.id_turmas">{{ turma.nm_turma }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Professor:</label>
        <select [(ngModel)]="novaAula.id_professor" class="form-control">
          <option *ngFor="let professor of professores" [value]="professor.id_professor">{{ professor.nm_professor }}</option>
        </select>
      </div>

      <button style="margin-top: 1em;" (click)="adicionarAula()" class="btn btn-success">Adicionar</button>
    </div>

    <div *ngIf="editMode">
      <h4>Editando Aula</h4>

      <div class="form-group">
        <label>Dia:</label>
        <select [(ngModel)]="aulaEmEdicao.dia" class="form-control">
          <option *ngFor="let dia of dias" [value]="dia">{{ dia }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Horário:</label>
        <select [(ngModel)]="aulaEmEdicao.horario" class="form-control">
          <option *ngFor="let horario of horarios" [value]="horario">{{ horario }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Turma:</label>
        <select [(ngModel)]="aulaEmEdicao.id_turmas" class="form-control" disabled>
          <option *ngFor="let turma of turmas" [value]="turma.id_turmas">{{ turma.nm_turma }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Professor:</label>
        <select [(ngModel)]="aulaEmEdicao.id_professor" class="form-control" disabled>
          <option *ngFor="let professor of professores" [value]="professor.id_professor">{{ professor.nm_professor }}</option>
        </select>
      </div>

      <button style="margin-top: 1em; margin-right: 1em;"  (click)="salvarEdicao()" class="btn btn-primary">Salvar</button>
      <button style="margin-top: 1em;"  (click)="cancelarEdicao()" class="btn btn-danger">Cancelar</button>
    </div>
  </div>
</div>
